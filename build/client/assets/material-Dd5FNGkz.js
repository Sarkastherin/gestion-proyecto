import{r as a,w as p,u as h,b as x,j as e,O as w}from"./chunk-PVWAREVJ-Cl_c9Jt0.js";import{a as g,B as v}from"./Buttons-DjYWmDVV.js";import{u as E,m as j}from"./DataContext-BHROWMOn.js";import{I as N}from"./ItemsHeader-CvfEe6B-.js";import{u as R}from"./UIContext-9PjeG9pu.js";import{F as f}from"./TrashIcon-CpHN25SK.js";import{F as C,a as M}from"./InformationCircleIcon-9jf9lLWt.js";import"./IconComponent-CkWBZZXK.js";import"./supabaseClient-O5NoNd5h.js";import"./ContactsContext-BtjVusI7.js";import"./functions-CIXTKjf3.js";import"./arrow-left-3CO6tBoR.js";function b({title:t,titleId:i,...n},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":i},n),t?a.createElement("title",{id:i},t):null,a.createElement("path",{d:"M3 2a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1H3Z"}),a.createElement("path",{fillRule:"evenodd",d:"M3 6h10v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6Zm3 2.75A.75.75 0 0 1 6.75 8h2.5a.75.75 0 0 1 0 1.5h-2.5A.75.75 0 0 1 6 8.75Z",clipRule:"evenodd"}))}const F=a.forwardRef(b),I=t=>[{title:"Información",href:`/materials/${t}`,icon:e.jsx(C,{className:"w-4"})},{title:"Precios",href:`/materials/${t}/prices`,icon:e.jsx(M,{className:"w-4"})}],T=p(function(){const i=h(),{getMaterial:n,getMaterials:s,materials:o,selectedMaterial:r}=E(),{openModal:m}=R(),{id:l}=x(),u=I(Number(l));a.useEffect(()=>{o||s()},[]),a.useEffect(()=>{o&&n(Number(l),o)},[o]);const c=async()=>{m("CONFIRMATION",{title:"Confirmar eliminación",message:"¿Está seguro de eliminar este material?",onConfirm:async()=>{const{error:d}=await j.remove({id:Number(l)});if(d){m("ERROR",{message:d.message});return}m("SUCCESS",{message:"Material eliminado correctamente"}),s(),i("materials")}})};return e.jsxs(e.Fragment,{children:[r&&e.jsx(N,{iconTitle:e.jsx(F,{className:"w-5 text-white dark:text-zinc-900"}),color:"bg-green-500",title:r==null?void 0:r.description,menu:u,rightSection:e.jsxs("div",{className:"w-fit",children:[e.jsx(g,{title:"Eliminar material",size:"sm",variant:"red",onClick:c,icon:{component:f,color:"text-white"},className:"md:hidden"}),e.jsx(v,{size:"sm",title:"Eliminar material",variant:"red",onClick:c,className:"md:inline-flex hidden",icon:{component:f,color:"text-white"},children:"Eliminar Material"})]}),back_path:"/materials"}),r?e.jsx(w,{}):e.jsx("p",{className:"text-center mt-10",children:"Cargando Material..."})]})});export{T as default};
