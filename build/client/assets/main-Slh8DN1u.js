import{r as o,j as e,N as p,w as b,u as y,O as w}from"./chunk-PVWAREVJ-xN2wnjH-.js";import{u as N}from"./UIContext-CTPOFttf.js";import{u as g}from"./AuthContext-D1p91lav.js";import{u as C}from"./ContactsContext-CvsXE9G3.js";import{u as O}from"./ModalsContext-CDMOE33t.js";import{M as c}from"./ModalBase-Cfo712yZ.js";import"./Buttons-BBIplumE.js";function k({title:t,titleId:n,...s},r){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},s),t?o.createElement("title",{id:n},t):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"}))}const z=o.forwardRef(k);function M({title:t,titleId:n,...s},r){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},s),t?o.createElement("title",{id:n},t):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"}))}const S=o.forwardRef(M);function I(){const{user:t}=g(),{toggleTheme:n,theme:s}=N(),r=({to:i,children:l})=>e.jsx(p,{className:({isActive:a})=>`${a?"text-indigo-400":"text-zinc-400 hover:text-indigo-400"}`,to:i,children:l});return e.jsx("header",{className:"bg-zinc-800 dark:bg-zinc-950/80",children:e.jsxs("div",{className:"mx-auto flex h-16 max-w-screen-xl items-center gap-8 px-4 sm:px-6 lg:px-8",children:[e.jsx(r,{to:"/",children:"Inicio"}),e.jsxs("div",{className:"flex flex-1 items-center justify-end md:justify-between",children:[e.jsx("nav",{"aria-label":"Global",className:"hidden md:block",children:e.jsxs("ul",{className:"flex items-center gap-6 text-sm",children:[e.jsx("li",{children:e.jsx(r,{to:"/opportunities",children:"Oportunidades"})}),e.jsx("li",{children:e.jsx(r,{to:"/projects",children:"✨ Proyectos"})}),e.jsx("li",{children:e.jsx(r,{to:"/materials",children:"Materiales"})}),e.jsx("li",{children:e.jsx(r,{to:"/settings",children:"Configuraciones"})})]})}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("p",{className:"text-pink-300",children:["Hola, ",t==null?void 0:t.name]}),e.jsx("button",{title:"toggle-button-theme",className:"rounded-full p-2 text-zinc-400 hover:text-indigo-400 cursor-pointer",onClick:n,children:s==="dark"?e.jsx(z,{className:"w-5"}):e.jsx(S,{className:"w-5"})})]})]})]})})}var E={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function L(t){if(typeof t=="number")return{value:t,unit:"px"};var n,s=(t.match(/^[0-9.]*/)||"").toString();s.includes(".")?n=parseFloat(s):n=parseInt(s,10);var r=(t.match(/[^0-9]*$/)||"").toString();return E[r]?{value:n,unit:r}:(console.warn("React Spinners: ".concat(t," is not a valid css value. Defaulting to ").concat(n,"px.")),{value:n,unit:"px"})}function f(t){var n=L(t);return"".concat(n.value).concat(n.unit)}var P=function(t,n,s){var r="react-spinners-".concat(t,"-").concat(s);if(typeof window>"u"||!window.document)return r;var i=document.createElement("style");document.head.appendChild(i);var l=i.sheet,a=`
    @keyframes `.concat(r,` {
      `).concat(n,`
    }
  `);return l&&l.insertRule(a,0),r},d=function(){return d=Object.assign||function(t){for(var n,s=1,r=arguments.length;s<r;s++){n=arguments[s];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},d.apply(this,arguments)},R=function(t,n){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(s[r[i]]=t[r[i]]);return s},A=P("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");function F(t){var n=t.loading,s=n===void 0?!0:n,r=t.color,i=r===void 0?"#000000":r,l=t.speedMultiplier,a=l===void 0?1:l,u=t.cssOverride,h=u===void 0?{}:u,m=t.size,x=m===void 0?35:m,j=R(t,["loading","color","speedMultiplier","cssOverride","size"]),v=d({background:"transparent !important",width:f(x),height:f(x),borderRadius:"100%",border:"2px solid",borderTopColor:i,borderBottomColor:"transparent",borderLeftColor:i,borderRightColor:i,display:"inline-block",animation:"".concat(A," ").concat(.75/a,"s 0s infinite linear"),animationFillMode:"both"},h);return s?o.createElement("span",d({style:v},j)):null}function _({message:t,onConfirm:n,onClose:s}){return e.jsx(c,{title:"Confirmar acción",open:!0,zIndex:50,onClose:s,footer:{btnPrimary:{label:"Confirmar",handleOnClick:n,variant:"yellow"},btnSecondary:{label:"Cancelar",handleOnClick:s,variant:"secondary"}},children:e.jsx("div",{className:"flex flex-col items-center justify-center py-4 bg-zinc-100 dark:bg-zinc-700 rounded-lg",children:e.jsx("div",{className:"text-sm text-zinc-700 dark:text-zinc-300 text-center max-w-xs",children:t})})})}function U({title:t="⏳ Un momento...",message:n="Se está procesando su requerimiento"}){return e.jsx(c,{title:t,open:!0,zIndex:50,children:e.jsxs("div",{className:"flex flex-col items-center justify-center py-6 gap-4",children:[e.jsx(F,{color:"#4F46E5",size:40}),e.jsx("p",{className:"text-sm text-zinc-700 dark:text-zinc-300 text-center max-w-xs",children:n})]})})}function B({title:t="ℹ️ Información",message:n,onClose:s,btnSecondary:r}){const i={btnSecondary:r};return e.jsx(c,{title:t,open:!0,zIndex:50,onClose:s,footer:i,children:e.jsx("div",{className:"flex flex-col items-center justify-center py-4 bg-zinc-100 dark:bg-zinc-700 rounded-lg",children:e.jsx("div",{className:"text-sm text-zinc-700 dark:text-zinc-300 text-center max-w-xs",children:n})})})}function $({title:t="✅ ¡Listo!",message:n="La operación se realizó con éxito.",onClose:s,btnPrimary:r,btnSecondary:i}){const l={btnPrimary:r,btnSecondary:i};return e.jsx(c,{title:t,open:!0,zIndex:50,onClose:s,footer:l,children:e.jsx("div",{className:"flex flex-col items-center justify-center py-4 rounded-lg bg-zinc-700/50",children:e.jsx("p",{className:"text-sm text-zinc-300 text-center max-w-xs",children:n})})})}function T({title:t="❌ Algo salió mal...",message:n="Ocurrió un error al realizar la operación.",onClose:s,btnSecondary:r}){const i={btnSecondary:r};return e.jsx(c,{title:t,open:!0,zIndex:50,onClose:s,footer:i,children:e.jsx("div",{className:"flex flex-col items-center justify-center py-4 rounded-lg bg-zinc-700/50",children:e.jsx("p",{className:"text-sm text-zinc-300 text-center max-w-xs",children:n})})})}function G({steps:t,onClose:n}){const s=t.length>0?t.filter(r=>r.status==="done").length/t.length*100:0;return e.jsx(c,{title:"Progreso",open:!0,zIndex:50,onClose:n,children:e.jsxs("div",{className:"mt-4 space-y-4",children:[e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:e.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-300 ease-out",style:{width:`${s}%`}})}),e.jsx("ul",{className:"space-y-2",children:t.map((r,i)=>e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`w-3 h-3 rounded-full ${r.status==="done"?"bg-green-500":r.status==="in-progress"?"bg-blue-500 animate-pulse":r.status==="error"?"bg-red-500":"bg-gray-400"}`}),e.jsx("span",{children:r.label})]},i))})]})})}function V(){const{modal:t,closeModal:n,progressiveSteps:s,setProgressiveSteps:r,updateStep:i}=O(),{type:l,props:a}=t;switch(l){case"LOADING":return e.jsx(U,{message:a==null?void 0:a.message,title:a==null?void 0:a.title});case"SUCCESS":return e.jsx($,{onClose:n,message:a==null?void 0:a.message,title:a==null?void 0:a.title,btnPrimary:a==null?void 0:a.btnPrimary,btnSecondary:{label:"Aceptar",handleOnClick:n,variant:"green"}});case"ERROR":return e.jsx(T,{onClose:n,message:a==null?void 0:a.message,title:a==null?void 0:a.title,btnSecondary:{label:"Aceptar",handleOnClick:n,variant:"danger"}});case"CONFIRMATION":return e.jsx(_,{onClose:n,message:a==null?void 0:a.message,onConfirm:a==null?void 0:a.onConfirm});case"PROGRESSIVE":return e.jsx(G,{onClose:n,steps:s});case"INFORMATION":return e.jsx(B,{onClose:n,message:a==null?void 0:a.message,title:a==null?void 0:a.title,btnSecondary:{label:"Aceptar",handleOnClick:n,variant:"blue"}});default:return null}}const Q=b(function(){const{isLoadedContacts:n,setIsLoadedContacts:s}=C(),{auth:r,session:i}=g(),l=y();return o.useEffect(()=>{r(),i||l("/login")},[]),e.jsx(e.Fragment,{children:n?e.jsxs(e.Fragment,{children:[e.jsx(I,{}),e.jsx(w,{}),e.jsx(V,{})]}):e.jsx("div",{className:"flex justify-center items-center h-screen w-full font-medium text-lg",children:n===null?e.jsx("p",{className:"text-yellow-600",children:"Conectando... Por favor espere"}):e.jsx("p",{className:"text-red-600 dark:text-red-400",children:"Problemas para conectarse a la base de datos de clientes y proveedores"})})})});export{Q as default};
