import{w as l,r as a,u as c,j as o}from"./chunk-PVWAREVJ-Cl_c9Jt0.js";import{E as m}from"./EntityTable-CYBYbV-K.js";import{u as d}from"./DataContext-B4mtDhe5.js";import{C as p}from"./Containers-ZXGJ7diH.js";import{P as u}from"./ProtectedRoute-DTKDj7Jz.js";import{e as b}from"./allowedRoles-DvcEYYJr.js";import{u as y}from"./AuthContext-DiXfFtBN.js";import{L as h}from"./LoaderComponent-DzoOhiNN.js";import{c as k}from"./arrow-left-3CO6tBoR.js";import"./Inputs-cvlDeTHR.js";import"./Buttons-C61rKE9q.js";import"./IconComponent-CkWBZZXK.js";import"./UIContext-9PjeG9pu.js";import"./supabaseClient-O5NoNd5h.js";import"./Buttons-dijALP0_.js";import"./index-DvKACyVh.js";import"./functions-llu_GUtd.js";import"./TrashIcon-CpHN25SK.js";import"./ContactsContext-BtjVusI7.js";/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f=[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M12 10v2",key:"hh53o1"}],["path",{d:"M16 10v6",key:"1d6xys"}]],x=k("folder-kanban",f);function J({}){return[{title:"Proyectos"},{name:"description",content:"Proyectos"}]}const _=[{name:"Id",selector:e=>e.id,width:"80px",sortable:!0},{name:"Fecha",selector:e=>new Date(e.created_at).toLocaleDateString("es-AR",{year:"numeric",month:"2-digit",day:"2-digit"}),width:"170px",sortable:!0},{name:"Nombre de la Oportunidad",selector:e=>e.name,sortable:!0},{name:"Cliente",selector:e=>{var t;return((t=e.client)==null?void 0:t.nombre)||""},width:"270px",sortable:!0},{name:"Creado por",selector:e=>{var t;return((t=e.users)==null?void 0:t.user_name)||""},width:"120px",sortable:!0}],P=[{label:"Id",key:"id"},{label:"Fecha",key:"created_at"},{label:"Nombre del Proyecto",key:"name"},{label:"Cliente",key:"client.nombre"},{label:"Fecha de inicio [PLAN]",key:"plan_start_date"},{label:"Fecha de fin [PLAN]",key:"plan_end_date"},{label:"Duración [PLAN]",key:"plan_duration"},{label:"Fecha de inicio [REAL]",key:"start_date"},{label:"Fecha de fin [REAL]",key:"end_date"},{label:"Duración [REAL]",key:"duration"},{label:"Status",key:"status"},{label:"Modalidad",key:"mode"},{label:"Requerimientos de cliente",key:"customer_requirement"},{label:"Creado por",key:"users.user_name"}],K=l(function(){const{user:t}=y(),{getProjects:n,projects:r}=d(),[j,L]=a.useState([]),i=c();return a.useEffect(()=>{r||n()},[]),r?o.jsx(u,{allowed:b,children:o.jsx(p,{title:"Proyectos",width:"w-full",back_path:"/",IconComponent:{component:x,color:"text-purple-500"},children:o.jsx(m,{data:r,columns:_,onRowClick:s=>i(`/projects/${s.id}/resumen`),filterFields:[{key:"name",label:"Buscar por descripción",autoFilter:!0},{key:"client.nombre",label:"Buscar por cliente",autoFilter:!0}],buttonExport:{headers:P,filename:"Proyectos",type:"projects"}})})}):o.jsx(h,{})});export{K as default,J as meta};
