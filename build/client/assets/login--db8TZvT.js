import{w as g,u as b,r as m,j as e}from"./chunk-PVWAREVJ-xN2wnjH-.js";import{I as l}from"./Inputs-nFJy7MmX.js";import{u as h}from"./index.esm-BDlKQGcf.js";import{B as j}from"./Buttons-BBIplumE.js";import{u as I}from"./AuthContext-DID-Oe4s.js";import"./UIContext-DAvkThde.js";import{u as w}from"./ModalsContext-CDMOE33t.js";function L({}){return[{title:"Inicio de sesión"},{name:"description",content:"Inicio de sesión"}]}const M=g(function(){var a,o;const{openModal:u}=w(),s=b(),{signIn:c,auth:d,session:t}=I(),{register:r,handleSubmit:f,formState:{errors:i}}=h(),p=async x=>{const{data:y,error:n}=await c(x);n&&u("ERROR",{message:n.message||"Hubo un problema al intentar ingresar."}),s("/")};return m.useEffect(()=>{d()},[]),m.useEffect(()=>{t&&s("/")},[t,s]),e.jsx("div",{className:"flex justify-center items-center h-full",children:e.jsxs("form",{onSubmit:f(p),className:"flex flex-col justify-center gap-4 mx-auto",children:[e.jsx("h2",{className:"text-2xl text-center dark:text-indigo-400 text-indigo-600 font-semibold",children:"Iniciar sesión"}),e.jsx(l,{id:"email",label:"Email",type:"email",register:r("email",{required:"El email es requerido"}),error:(a=i.email)==null?void 0:a.message}),e.jsx(l,{id:"password",label:"Contraseña",type:"password",register:r("password",{required:"La contraseña es obligatoria"}),error:(o=i.password)==null?void 0:o.message}),e.jsx(j,{type:"submit",children:"Ingresar"})]})})});export{M as default,L as meta};
