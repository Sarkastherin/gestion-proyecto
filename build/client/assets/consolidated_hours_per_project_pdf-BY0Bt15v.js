import{j as e,w as c,d as f}from"./chunk-PVWAREVJ-Cl_c9Jt0.js";import{C as j}from"./Containers-ZXGJ7diH.js";import{V as s,T as l}from"./logo_imindustrial-1ZDqzhFi.js";import{f as h}from"./functions-llu_GUtd.js";import{P as p,s as r,C as t}from"./PDFComponentsReports-CgfwidJg.js";import"./IconComponent-CkWBZZXK.js";import"./arrow-left-3CO6tBoR.js";import"./index-DRz5BQNA.js";const m=({periodo:i,globalBalance:o})=>e.jsxs(s,{style:{display:"flex",flexDirection:"row",alignItems:"flex-start",justifyContent:"space-between",gap:4,fontSize:10,borderBottom:"1px solid #9ca3af",paddingBottom:10},children:[e.jsxs(s,{children:[e.jsx(l,{children:"Balance Global"}),e.jsxs(s,{children:[e.jsx(l,{style:r.codeText,children:`Total horas equivalentes: ${o.total_equivalent_hours.toFixed(2)}`}),e.jsx(l,{style:r.codeText,children:`Total días equivalentes: ${o.total_equivalent_days.toFixed(2)}`}),e.jsx(l,{style:r.codeText,children:`Total viáticos: ${o.total_viaticum}`}),e.jsx(l,{style:r.codeText,children:`Total comidas: ${o.alimentation}`})]})]}),e.jsxs(s,{style:{display:"flex",gap:"4"},children:[e.jsxs(s,{children:[e.jsx(l,{children:"Periodo"}),e.jsx(l,{style:r.codeText,children:`Desde ${i.from}`}),e.jsx(l,{style:r.codeText,children:`Hasta ${i.to}`})]}),e.jsxs(s,{children:[e.jsx(l,{children:"Fecha de generación"}),e.jsx(l,{style:r.codeText,children:new Date().toLocaleDateString()})]})]})]}),u=()=>e.jsxs(s,{fixed:!0,style:{display:"flex",flexDirection:"row",border:"1px solid #9ca3af",fontSize:10,fontWeight:"bold",backgroundColor:"#f3f4f6"},children:[e.jsx(t,{content:"Empleado",flex:2,isFirst:!0}),e.jsx(t,{content:"HS-EQ",flex:.5}),e.jsx(t,{content:"Días EQ",flex:.5}),e.jsx(t,{content:"Viático",flex:.5}),e.jsx(t,{content:"Comidas",flex:.5})]}),y=({project:i})=>e.jsxs(s,{style:{display:"flex",flexDirection:"row",borderLeft:"1px solid #9ca3af",borderRight:"1px solid #9ca3af",borderBottom:"1px solid #9ca3af",fontSize:10,fontWeight:"semibold"},children:[e.jsx(t,{content:i.project_name,flex:2,isFirst:!0}),e.jsx(t,{content:i.total_equivalent_hours.toFixed(2),flex:.5}),e.jsx(t,{content:i.total_equivalent_days.toFixed(2),flex:.5}),e.jsx(t,{content:i.total_viaticum.toString(),flex:.5}),e.jsx(t,{content:i.alimentation.toString(),flex:.5})]}),_=({project:i})=>e.jsx(s,{style:{display:"flex"},children:i.employees.map((o,a)=>e.jsxs(s,{children:[e.jsxs(s,{style:{display:"flex",flexDirection:"row",borderLeft:"1px solid #9ca3af",borderRight:"1px solid #9ca3af",borderBottom:"1px solid #9ca3af",fontSize:9},children:[e.jsx(t,{content:o.employee_name||"Desconocido",flex:2,isFirst:!0}),e.jsx(t,{content:o.equivalent_hours.toFixed(2),flex:.5}),e.jsx(t,{content:o.equivalent_days.toFixed(2),flex:.5}),e.jsx(t,{content:o.viaticum.toString(),flex:.5}),e.jsx(t,{content:o.alimentation.toString(),flex:.5})]}),o.dayReport.map((n,x)=>e.jsxs(s,{style:{display:"flex",flexDirection:"row",borderLeft:"1px solid #9ca3af",borderRight:"1px solid #9ca3af",borderBottom:x===o.dayReport.length-1?"1px solid #9ca3af":"1px dashed #9ca3af",...r.codeText},children:[e.jsx(t,{content:h(n.date_report),flex:2,alignment:"right",isFirst:!0}),e.jsx(t,{content:(n.equivalent_hours??0).toFixed(2),flex:.5}),e.jsx(t,{content:((n.equivalent_hours??0)/9).toFixed(2).toString(),flex:.5}),e.jsx(t,{content:n.viaticum?"Sí":"No",flex:.5}),e.jsx(t,{content:n.absent?"1":"0",flex:.5})]},`${a}-${n.id}`))]},a))});function g({title:i,data:o,periodo:a,globalBalance:n}){return e.jsxs(p,{title:i,children:[e.jsx(m,{periodo:a,globalBalance:n}),e.jsxs(s,{style:{marginTop:25},children:[e.jsx(u,{}),e.jsx(s,{children:o.map((x,d)=>e.jsxs(s,{children:[e.jsx(y,{project:x}),e.jsx(_,{project:x})]},d))})]})]})}function P({}){return[{title:"Consolidados por Proyecto"},{name:"description",content:"Consolidados por Proyecto [Informes]"}]}const q=c(function(){const o=f(),{data:a,periodo:n,globalBalance:x}=o.state;return e.jsx(j,{title:"Consolidado de horas por proyectos",back_path:"/rrhh/consolidated_hours_per_project",children:e.jsx("div",{className:"w-full mt-8 mx-auto flex gap-6 px-8",children:e.jsx("div",{className:"w-full",children:e.jsx(g,{title:"Consolidado de horas por proyectos",data:a,periodo:n,globalBalance:x})})})})});export{q as default,P as meta};
