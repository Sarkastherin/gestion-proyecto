import{r as b,j as e,w as N}from"./chunk-PVWAREVJ-xN2wnjH-.js";import{a as w}from"./Containers-PvQTCG8J.js";import{u as y}from"./index.esm-BDlKQGcf.js";import{a as n}from"./Cards-BrE1Rw6C.js";import{I as i,T as v,S as _}from"./Inputs-nFJy7MmX.js";import{F as S}from"./FooterForms-Cn13FOqk.js";import{u as C}from"./UIContext-DAvkThde.js";import{u as F}from"./useModalState-DqEB_XcK.js";import{f as I}from"./ConditionsForm-DwhqsYvz.js";import{u as M}from"./DataContext-BsNWaLsj.js";import"./Buttons-BBIplumE.js";import"./ModalsContext-CDMOE33t.js";import"./cruds-CKZRngPt.js";import"./updatesSingleRow-BjGTgUib.js";import"./fieldsChange-bFwPspdM.js";import"./functions-DVvIYcXa.js";function P({defaultValues:d}){var p,x,u,h,j,f;const[a,c]=b.useState(!1),{selectedClient:l}=C(),m=F(),{register:s,handleSubmit:o,watch:T,formState:{errors:t}}=y({defaultValues:d}),g=r=>{console.log(r)};return e.jsxs("form",{className:" flex flex-col gap-6",onSubmit:o(g),children:[e.jsx("fieldset",{disabled:!a,children:e.jsx(n,{title:"Datos del Proyecto",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(i,{label:"Nombre del Proyecto",disabled:!a,...s("name",{required:"Campo requerido"}),error:(p=t.name)==null?void 0:p.message}),e.jsx(i,{label:"Cliente",placeholder:"Seleccione un cliente",readOnly:!0,disabled:!a,value:(l==null?void 0:l.nombre)||"",onClick:()=>{m.openModal()},error:(x=t.id_client)==null?void 0:x.message}),e.jsx("input",{type:"hidden",...s("id_client",{required:!0,valueAsNumber:!0})}),e.jsx("div",{className:"col-span-2",children:e.jsx(v,{disabled:!a,label:"Alcance",...s("scope")})})]})})}),e.jsx("fieldset",{disabled:!a,children:e.jsx(n,{title:"Detalles adicionales",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx("div",{className:"col-span-3",children:e.jsx(_,{disabled:!a,label:"Forma de pago",...s("method_payment",{required:!0}),children:I.map(r=>e.jsx("option",{value:r.description,children:r.description},r.description))})}),e.jsx("div",{className:"col-span-3",children:e.jsx(i,{label:"Garantía",...s("guarantee"),disabled:!a,error:(u=t.guarantee)==null?void 0:u.message})}),e.jsx(i,{label:"Fecha de inicio [Plan]",type:"date",...s("plan_start_date"),disabled:!a,error:(h=t.plan_start_date)==null?void 0:h.message}),e.jsx(i,{label:"Fecha de fin [Plan]",type:"date",...s("plan_end_date"),disabled:!a,error:(j=t.plan_end_date)==null?void 0:j.message}),e.jsx(i,{label:"Duración [Plan]",type:"date",...s("plan_duration"),disabled:!a,error:(f=t.plan_duration)==null?void 0:f.message})]})})}),e.jsxs("fieldset",{children:[" ",e.jsx(n,{title:"Margenes de Ganancias",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full table-auto divide-y-2 divide-zinc-200 dark:divide-zinc-700",children:[e.jsxs("colgroup",{children:[e.jsx("col",{}),e.jsx("col",{className:"w-[1%]"}),e.jsx("col",{className:"w-[1%]"}),e.jsx("col",{className:"w-[20%]"}),e.jsx("col",{className:"w-[1%]"})]}),e.jsx("thead",{className:"ltr:text-left rtl:text-right",children:e.jsxs("tr",{className:"*:font-medium *:text-zinc-900 dark:*:text-white",children:[e.jsx("th",{className:"px-3 py-2 whitespace-nowrap",children:"Categoria de Cotización"}),e.jsx("th",{className:"px-3 py-2 whitespace-nowrap",children:"Total"}),e.jsx("th",{className:"px-3 py-2 whitespace-nowrap",children:"INC %"}),e.jsx("th",{className:"px-3 py-2 whitespace-nowrap",children:"Márgen/Comp"}),e.jsx("th",{className:"px-3 py-2 whitespace-nowrap",children:"Total con M/S"})]})}),e.jsx("tbody",{className:"divide-y divide-zinc-200 dark:divide-zinc-700"})]})})})]}),e.jsx(S,{isNew:!1,isEditMode:a,onToggleEdit:()=>c(r=>!r)})]})}function Q({}){return[{title:"Información"},{name:"description",content:"Información del proyecto"}]}const W=N(function(){const{selectedProject:a}=M();if(!a)return null;const{phases_project:c,budget_items:l,budget_materials:m,client:s,...o}=a;return e.jsx(w,{children:e.jsx(P,{defaultValues:o})})});export{W as default,Q as meta};
