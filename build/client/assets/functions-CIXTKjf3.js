const y="1.0.56",f={version:y},w=f.version,l=(e,t)=>{const a=Math.pow(10,t);return Math.round((e+Number.EPSILON)*a)/a};function h(e){var o,_;const t=((o=e.details_items[0])==null?void 0:o.id_quote)??((_=e.details_materials[0])==null?void 0:_.id_quote)??0,a=l(e.details_materials.reduce((r,n)=>{var d;return r+n.quantity*(((d=n.prices)==null?void 0:d.price)||0)},0),2),c=l(e.details_items.filter(r=>r.type==="mano de obra").reduce((r,n)=>r+(n.quantity*n.unit_cost||0),0),2),u=l(e.details_items.filter(r=>r.type==="subcontratos").reduce((r,n)=>r+(n.quantity*n.unit_cost||0),0),2),i=l(e.details_items.filter(r=>r.type==="otros").reduce((r,n)=>r+(n.quantity*n.unit_cost||0),0),2);return{id_quote:t,total_materials:a,total_labor:c,total_subcontracting:u,total_others:i}}function q(e){const t=l(e.details_materials.reduce((i,o)=>{var _;return i+o.quantity*(((_=o.prices)==null?void 0:_.price)||0)},0),2),a=l(e.details_items.filter(i=>i.type==="mano de obra").reduce((i,o)=>i+(o.quantity*o.unit_cost||0),0),2),c=l(e.details_items.filter(i=>i.type==="subcontratos").reduce((i,o)=>i+(o.quantity*o.unit_cost||0),0),2),u=l(e.details_items.filter(i=>i.type==="otros").reduce((i,o)=>i+(o.quantity*o.unit_cost||0),0),2);return{total_materials:t,total_labor:a,total_subcontracting:c,total_others:u}}const v=e=>{const t=e.getDate(),a=e.getMonth()+1,c=e.getFullYear(),u=t>9?String(t):`0${t}`,i=a>9?String(a):`0${a}`;return`${c}-${i}-${u}`},s=e=>typeof e=="string"?e.replace(/"/g,'""'):e??"",b=e=>t=>{var a,c,u,i,o,_,r,n,d;if(e==="materials"){const p=((a=t.prices)==null?void 0:a.find(g=>g.default))??{};return{id:t.id,description:s(t.description),"view_categorizations.id_family":t.view_categorizations.id_family,"view_categorizations.description_family":s(((c=t.view_categorizations)==null?void 0:c.description_family)??""),"view_categorizations.id_category":t.view_categorizations.id_category,"view_categorizations.description_category":s(((u=t.view_categorizations)==null?void 0:u.description_category)??""),"view_categorizations.id_subcategory":t.view_categorizations.id_subcategory,"view_categorizations.description_subcategory":s(((i=t.view_categorizations)==null?void 0:i.description_subcategory)??""),unit:t.id_unit??"","units.description":s(((o=t.units)==null?void 0:o.description)||""),defaultPrice:p.price!==void 0&&p.price!==null?String(p.price).replace(".",","):"",weight:t.weight??"",application:s(t.application??""),supplier:p.id_supplier??""}}return e==="resumen"?{type:s(t.type||""),"materials.id":s(((_=t.materials)==null?void 0:_.id)||""),"materials.description":s(((r=t.materials)==null?void 0:r.description)||""),item:s(t.item||""),quantity:t.quantity??"","prices.price":((n=t.prices)==null?void 0:n.price)??"",unit_cost:t.unit_cost??"",unit:s(t.unit||"")}:e==="absents"?{id:t.id,date_report:s(t.date_report||""),"employee.contacto_nombre":s(((d=t.employee)==null?void 0:d.contacto_nombre)||""),absent:t.absent?"Ausente":"Presente",hour_start:s(t.hour_start||""),hour_end:s(t.hour_end||""),project_name:s(t.project_name||"")}:{}},z=(e,t)=>e.map(b(t));export{h as a,w as b,v as d,q as g,l as r,z as s};
