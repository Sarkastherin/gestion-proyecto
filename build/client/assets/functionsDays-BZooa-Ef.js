function d(t,n,o=1,l=[]){const e=new Date(t);if(isNaN(e.getTime()))throw new Error("Fecha inválida");const r=new Set(l.map(i=>new Date(i instanceof Date?i:i+"T00:00:00").toDateString())),c=w(o);let D=n,a=new Date(e);const s=n>=0?1:-1;for(;D!==0;){a.setDate(a.getDate()+s);const i=(a.getDay()+6)%7,g=c[i]===1,f=r.has(a.toDateString());!g&&!f&&(D-=s)}for(;c[(a.getDay()+6)%7]===1||r.has(a.toDateString());)a.setDate(a.getDate()+s);return a}function y(t,n,o=1,l=[]){let e=new Date(t),r=new Date(n);e=new Date(e.getFullYear(),e.getMonth(),e.getDate()),r=new Date(r.getFullYear(),r.getMonth(),r.getDate()),e>r&&([e,r]=[r,e]);const c=new Set(l.map(i=>new Date(i instanceof Date?i:i+"T00:00:00").toDateString())),D=w(o);let a=0,s=new Date(e);for(;s<=r;){const i=(s.getDay()+6)%7,g=D[i]===1,f=c.has(s.toDateString());!g&&!f&&a++,s.setDate(s.getDate()+1)}return a}function w(t){if(typeof t=="string"){if(t.length!==7||/[^01]/.test(t))throw new Error("Formato de cadena inválido para weekend");return t.split("").map(o=>Number(o))}const n=Array(7).fill(0);if(t>=1&&t<=7){const o=[[5,6],[6,0],[0,1],[1,2],[2,3],[3,4],[4,5]],[l,e]=o[t-1];n[l]=1,n[e]=1}else if(t>=11&&t<=17){const o={11:6,12:0,13:1,14:2,15:3,16:4,17:5};n[o[t]]=1}else throw new Error("Valor inválido para weekend");return n}function p(t){if(!t)return"-";const[n,o,l]=t.split("-");return`${l}/${o}/${n}`}export{p as f,y as n,d as w};
