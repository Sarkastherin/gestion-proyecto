import{w as n,u as p,r as u,j as o}from"./chunk-PVWAREVJ-xN2wnjH-.js";import{B as l}from"./Badge-CULYdmWM.js";import{S as m}from"./StatusOptions-BwlUIHMm.js";import{u as c}from"./DataContext-BsNWaLsj.js";import{E as d}from"./EntityTable-BR0JMe50.js";import"./Link-DPrQ_H2S.js";import{F as f}from"./FooterUITable-TRyZzrye.js";import{C as x}from"./Containers-PvQTCG8J.js";import"./UIContext-DAvkThde.js";import"./ModalsContext-CDMOE33t.js";import"./functions-DVvIYcXa.js";import"./Inputs-nFJy7MmX.js";import"./Buttons-BBIplumE.js";import"./Buttons-CDHNjhxE.js";import"./TrashIcon-B0Rn98mB.js";function T({}){return[{title:"Oportunidades"},{name:"description",content:"Oportunidades"}]}const b=[{name:"Id",selector:t=>t.id,width:"80px",sortable:!0},{name:"Fecha",selector:t=>{const e=t.created_at,r=new Date(e),i={year:"numeric",day:"numeric",month:"long"};return r.toLocaleString("es-AR",i)},width:"170px",sortable:!0},{name:"Nombre de la Oportunidad",selector:t=>t.name,sortable:!0},{name:"Cliente",selector:t=>{var e;return((e=t.client)==null?void 0:e.nombre)||""},width:"270px",sortable:!0},{name:"Status",cell:t=>o.jsx(l,{variant:t.status,children:t.status}),width:"120px"},{name:"Creado por",selector:t=>{var e;return((e=t.users)==null?void 0:e.user_name)||""},width:"120px",sortable:!0}],D=n(function(){const{getOpportunities:e,opportunities:r,setSelectedOpportunity:i}=c(),s=p();return u.useEffect(()=>{r||e()},[]),o.jsxs(o.Fragment,{children:[r&&o.jsx(x,{title:"Oportunidades",width:"w-full",children:o.jsx(d,{data:r,columns:b,onRowClick:a=>{i(null),s(`/opportunity/${a.id}/resumen`)},filterFields:[{key:"name",label:"Buscar por descripci√≥n"},{key:"client.nombre",label:"Buscar por cliente"},{key:"status",label:"Estado",type:"select",options:o.jsx(m,{})}]})}),o.jsx(f,{justify:"justify-end",buttonNavigate:{title:"Nueva Oportunidad",route:"/new-opportunity"}})]})});export{D as default,T as meta};
