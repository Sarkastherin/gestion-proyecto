const z="2.0.0",$={version:z},P=$.version,_=(r,t)=>{const s=Math.pow(10,t);return Math.round((r+Number.EPSILON)*s)/s};function V(r){var n,d;const t=((n=r.details_items[0])==null?void 0:n.id_quote)??((d=r.details_materials[0])==null?void 0:d.id_quote)??0,s=_(r.details_materials.reduce((a,i)=>{var l;return a+i.quantity*(((l=i.prices)==null?void 0:l.price)||0)},0),2),c=_(r.details_items.filter(a=>a.type==="mano de obra").reduce((a,i)=>a+(i.quantity*i.unit_cost||0),0),2),u=_(r.details_items.filter(a=>a.type==="subcontratos").reduce((a,i)=>a+(i.quantity*i.unit_cost||0),0),2),o=_(r.details_items.filter(a=>a.type==="otros").reduce((a,i)=>a+(i.quantity*i.unit_cost||0),0),2);return{id_quote:t,total_materials:s,total_labor:c,total_subcontracting:u,total_others:o}}function j(r){const t=_(r.details_materials.reduce((o,n)=>{var d;return o+n.quantity*(((d=n.prices)==null?void 0:d.price)||0)},0),2),s=_(r.details_items.filter(o=>o.type==="mano de obra").reduce((o,n)=>o+(n.quantity*n.unit_cost||0),0),2),c=_(r.details_items.filter(o=>o.type==="subcontratos").reduce((o,n)=>o+(n.quantity*n.unit_cost||0),0),2),u=_(r.details_items.filter(o=>o.type==="otros").reduce((o,n)=>o+(n.quantity*n.unit_cost||0),0),2);return{total_materials:t,total_labor:s,total_subcontracting:c,total_others:u}}const C=r=>{if(!r)return"";const t=r.getDate(),s=r.getMonth()+1,c=r.getFullYear(),u=t>9?String(t):`0${t}`,o=s>9?String(s):`0${s}`;return`${c}-${o}-${u}`},e=r=>typeof r=="string"?r.replace(/"/g,'""'):r??"",f=r=>String(r).replace(".",","),D=r=>t=>{var s,c,u,o,n,d,a,i,l,y,b,h,w,q;if(r==="materials"){const g=((s=t.prices)==null?void 0:s.find(S=>S.default))??{};return{id:t.id,description:e(t.description),"view_categorizations.id_family":t.view_categorizations.id_family,"view_categorizations.description_family":e(((c=t.view_categorizations)==null?void 0:c.description_family)??""),"view_categorizations.id_category":t.view_categorizations.id_category,"view_categorizations.description_category":e(((u=t.view_categorizations)==null?void 0:u.description_category)??""),"view_categorizations.id_subcategory":t.view_categorizations.id_subcategory,"view_categorizations.description_subcategory":e(((o=t.view_categorizations)==null?void 0:o.description_subcategory)??""),unit:t.id_unit??"","units.description":e(((n=t.units)==null?void 0:n.description)||""),defaultPrice:g.price!==void 0&&g.price!==null?String(g.price).replace(".",","):"",weight:t.weight??"",application:e(t.application??""),supplier:g.id_supplier??""}}return r==="resumen"?{type:e(t.type||""),"materials.id":e(((d=t.materials)==null?void 0:d.id)||""),"materials.description":e(((a=t.materials)==null?void 0:a.description)||""),item:e(t.item||""),quantity:t.quantity??"","prices.price":((i=t.prices)==null?void 0:i.price)??"",unit_cost:t.unit_cost??"",unit:e(t.unit||"")}:r==="absents"?{id:t.id,date_report:e(t.date_report||""),"employee.contacto_nombre":e(((l=t.employee)==null?void 0:l.contacto_nombre)||""),absent:t.absent?"Ausente":"Presente",hour_start:e(t.hour_start||""),hour_end:e(t.hour_end||""),project_name:e(t.project_name||"")}:r==="liquidation"?{id:t.id,date_report:p(t.date_report||""),"employee.contacto_nombre":e(((y=t.employee)==null?void 0:y.contacto_nombre)||""),absent:t.absent?"Ausente":"Presente",hour_start:e(t.hour_start||""),hour_end:e(t.hour_end||""),project_name:e(t.project_name||""),hours_worked:f(t.hours_worked??""),equivalent_hours:f(t.equivalent_hours??""),viaticum:t.viaticum?"Sí":"No"}:r==="opportunities"?{id:t.id,created_at:v(t.created_at||""),name:e(t.name||""),"client.nombre":e(((b=t.client)==null?void 0:b.nombre)||""),scope:e(t.scope||""),status:e(t.status||""),loss_reason:e(t.loss_reason||""),"users.user_name":e(((h=t.users)==null?void 0:h.user_name)||"")}:r==="projects"?{id:t.id,created_at:v(t.created_at||""),name:e(t.name||""),"client.nombre":e(((w=t.client)==null?void 0:w.nombre)||""),plan_start_date:p(t.plan_start_date||""),plan_end_date:p(t.plan_end_date||""),plan_duration:f(t.plan_duration??""),start_date:p(t.start_date||""),end_date:p(t.end_date||""),duration:f(t.duration??""),status:e(t.status||""),mode:t.mode==="0000000"?"Sin descanso":t.mode==="0000010"?"1 día por semana":t.mode==="0000100"?"2 días por semana":"",customer_requirement:e(t.customer_requirement||""),"users.user_name":e(((q=t.users)==null?void 0:q.user_name)||"")}:r==="unidades"?{id:t.id,description:e(t.description),abbreviation:e(t.abbreviation)}:r==="familias"?{id:t.id,description:e(t.description)}:r==="rubros"?{id:t.id,description:e(t.description),id_family:t.id_family}:r==="subrubros"?{id:t.id,description:e(t.description),id_category:t.id_category}:{}},M=(r,t)=>r.map(D(t));function p(r){if(!r)return"-";const[t,s,c]=r.split("-");return`${c}/${s}/${t}`}function v(r){return new Date(r).toLocaleDateString("es-AR",{year:"numeric",month:"2-digit",day:"2-digit"})}export{V as a,P as b,C as d,p as f,j as g,_ as r,M as s};
