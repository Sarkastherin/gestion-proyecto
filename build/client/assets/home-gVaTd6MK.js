import{w as c,r as a,u as m,j as o}from"./chunk-PVWAREVJ-Cl_c9Jt0.js";import{E as p}from"./EntityTable-DKwDIY9O.js";import{u as l}from"./DataContext-BHROWMOn.js";import{C as u}from"./Containers-ZXGJ7diH.js";import{P as d}from"./ProtectedRoute-DTKDj7Jz.js";import{d as h}from"./allowedRoles-wIcqt93s.js";import{u as f}from"./AuthContext-DiXfFtBN.js";import{L as x}from"./LoaderComponent-DzoOhiNN.js";import{c as b}from"./arrow-left-3CO6tBoR.js";import"./Inputs-cvlDeTHR.js";import"./Buttons-DjYWmDVV.js";import"./IconComponent-CkWBZZXK.js";import"./UIContext-9PjeG9pu.js";import"./supabaseClient-O5NoNd5h.js";import"./ContactsContext-BtjVusI7.js";import"./functions-CIXTKjf3.js";/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y=[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M12 10v2",key:"hh53o1"}],["path",{d:"M16 10v6",key:"1d6xys"}]],j=b("folder-kanban",y);function B({}){return[{title:"Proyectos"},{name:"description",content:"Proyectos"}]}const w=[{name:"Id",selector:e=>e.id,width:"80px",sortable:!0},{name:"Fecha",selector:e=>new Date(e.created_at).toLocaleDateString("es-AR",{year:"numeric",month:"2-digit",day:"2-digit"}),width:"170px",sortable:!0},{name:"Nombre de la Oportunidad",selector:e=>e.name,sortable:!0},{name:"Cliente",selector:e=>{var t;return((t=e.client)==null?void 0:t.nombre)||""},width:"270px",sortable:!0},{name:"Creado por",selector:e=>{var t;return((t=e.users)==null?void 0:t.user_name)||""},width:"120px",sortable:!0}],W=c(function(){const{user:t}=f(),{getProjects:s,projects:r}=l(),[k,P]=a.useState([]),n=m();return a.useEffect(()=>{r||s()},[]),r?o.jsx(d,{allowed:h,children:o.jsx(u,{title:"Proyectos",width:"w-full",back_path:"/",IconComponent:{component:j,color:"text-purple-500"},children:o.jsx(p,{data:r,columns:w,onRowClick:i=>n(`/projects/${i.id}/resumen`),filterFields:[{key:"name",label:"Buscar por descripci√≥n",autoFilter:!0},{key:"client.nombre",label:"Buscar por cliente",autoFilter:!0}]})})}):o.jsx(x,{})});export{W as default,B as meta};
