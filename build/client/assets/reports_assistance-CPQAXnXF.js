import{w as l,r as a,j as t}from"./chunk-PVWAREVJ-Cl_c9Jt0.js";import{E as i}from"./EntityTable-CYBYbV-K.js";import{u as m}from"./DataContext-B4mtDhe5.js";import{C as p}from"./Containers-ZXGJ7diH.js";import{P as c}from"./ProtectedRoute-DTKDj7Jz.js";import{f as d}from"./functionsDays-BZooa-Ef.js";import{B as u}from"./Badge-BNjmnaCE.js";import{A as b}from"./allowedRoles-DvcEYYJr.js";import{L as f}from"./LoaderComponent-DzoOhiNN.js";import{U as h}from"./users-round-Dw6IhnM_.js";import"./Inputs-cvlDeTHR.js";import"./Buttons-C61rKE9q.js";import"./IconComponent-CkWBZZXK.js";import"./UIContext-9PjeG9pu.js";import"./supabaseClient-O5NoNd5h.js";import"./Buttons-dijALP0_.js";import"./index-DvKACyVh.js";import"./functions-llu_GUtd.js";import"./TrashIcon-CpHN25SK.js";import"./ContactsContext-BtjVusI7.js";import"./arrow-left-3CO6tBoR.js";import"./AuthContext-DiXfFtBN.js";function N({}){return[{title:"Asistencias"},{name:"description",content:"Asistencias"}]}const y=[{name:"Id",selector:e=>e.id,width:"80px",sortable:!0},{name:"Fecha",selector:e=>d(e.date_report)||"",sortable:!0,width:"130px"},{name:"Empleado",selector:e=>{var o;return((o=e.employee)==null?void 0:o.contacto_nombre)||""},sortable:!0},{name:"Asistencia",cell:e=>t.jsx(u,{variant:e.absent?"red":"green",children:e.absent?"Ausente":"Presente"}),sortable:!0,width:"130px"},{name:"Entrada",selector:e=>e.hour_start||"",sortable:!0,width:"120px"},{name:"Salida",selector:e=>e.hour_end||"",sortable:!0,width:"120px"},{name:"Proyecto",selector:e=>e.project_name||"",sortable:!0}],Y=l(function(){const{getReportsEmployees:o,reportsEmployees:r}=m();a.useEffect(()=>{r||o()},[]);const[x,s]=a.useState(r??[]);a.useEffect(()=>{s(r??[])},[r]);const n=[{label:"ID",key:"id"},{label:"Fecha",key:"date_report"},{label:"Empleado",key:"employee.contacto_nombre"},{label:"Asistencia",key:"absent"},{label:"Entrada",key:"hour_start"},{label:"Salida",key:"hour_end"},{label:"Proyecto",key:"project_name"}];return r?t.jsx(c,{allowed:b,children:t.jsx(p,{title:"Asistencias",width:"w-full",back_path:"/rrhh",IconComponent:{component:h,color:"text-blue-600 dark:text-blue-400"},children:t.jsx(i,{data:r,columns:y,onFilteredChange:s,filterFields:[{key:"employee.contacto_nombre",label:"Nombre del empleado",autoFilter:!0},{key:"absent",label:"Asistencia",type:"select",options:t.jsxs(t.Fragment,{children:[t.jsx("option",{value:"true",children:"Ausente"}),t.jsx("option",{value:"false",children:"Presente"})]}),autoFilter:!0},{key:"project_name",label:"Proyecto",autoFilter:!0},{key:"date_report",label:"Fecha",type:"dateRange",autoFilter:!0}],buttonExport:{headers:n,filename:"Asistencias",type:"absents"}})})}):t.jsx(f,{})});export{Y as default,N as meta};
