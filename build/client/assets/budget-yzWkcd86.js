import{w as d,b as m,u as l,r as h,j as p,O as f}from"./chunk-PVWAREVJ-Cl_c9Jt0.js";import{u as g}from"./DataContext-B4mtDhe5.js";import{Q as P}from"./QuotesAndBudgetLayout-D5Vah2Mj.js";import{a as _}from"./UIContext-9PjeG9pu.js";import{a as j}from"./realTime-VCRs_Sia.js";import"./supabaseClient-O5NoNd5h.js";import"./ContactsContext-BtjVusI7.js";import"./functions-llu_GUtd.js";import"./Inputs-cvlDeTHR.js";import"./Buttons-C61rKE9q.js";import"./IconComponent-CkWBZZXK.js";function I({}){return[{title:"Presupuesto"},{name:"description",content:"Presupuesto del proyecto"}]}const L=d(function(){j();const{selectedProject:a}=g(),{setPropsQuoteAndBudget:o}=_(),{id:u}=m(),n=l();if(!a)return null;const{phases_project:t,budget_details_items:e,budget_details_materials:s,client:b,...x}=a;h.useEffect(()=>{c()},[a]);const c=()=>{s&&s.length>0?(s.sort((r,i)=>r.id_phase-i.id_phase),o({activeType:"materiales",selsectedPhase:s[0].id_phase||0})):e&&e.length>0?(e.sort((r,i)=>r.id_phase-i.id_phase),o({activeType:e[0].type,selsectedPhase:e[0].id_phase||0}),n(`projects/${u}/budget/items`)):o({activeType:"materiales",selsectedPhase:t&&t.length>0?t[0].id:0})};return p.jsx(P,{phases:t,type:"budget",children:p.jsx(f,{})})});export{L as default,I as meta};
