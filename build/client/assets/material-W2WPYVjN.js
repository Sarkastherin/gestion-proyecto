import{r as a,w as u,u as h,b as p,j as e,O as x}from"./chunk-PVWAREVJ-xN2wnjH-.js";import{B as g}from"./Buttons-BBIplumE.js";import{m as w}from"./cruds-CKZRngPt.js";import{u as v}from"./DataContext-BsNWaLsj.js";import{I as E}from"./ItemsHeader-C3hwTJ6z.js";import{u as j}from"./ModalsContext-CDMOE33t.js";import{F as R}from"./TrashIcon-B0Rn98mB.js";import{F as M}from"./InformationCircleIcon-DC58KaaG.js";import"./UIContext-DAvkThde.js";import"./functions-DVvIYcXa.js";function N({title:r,titleId:t,...i},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},i),r?a.createElement("title",{id:t},r):null,a.createElement("path",{d:"M3 2a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1H3Z"}),a.createElement("path",{fillRule:"evenodd",d:"M3 6h10v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6Zm3 2.75A.75.75 0 0 1 6.75 8h2.5a.75.75 0 0 1 0 1.5h-2.5A.75.75 0 0 1 6 8.75Z",clipRule:"evenodd"}))}const b=a.forwardRef(N);function C({title:r,titleId:t,...i},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},i),r?a.createElement("title",{id:t},r):null,a.createElement("path",{d:"M6.375 5.5h.875v1.75h-.875a.875.875 0 1 1 0-1.75ZM8.75 10.5V8.75h.875a.875.875 0 0 1 0 1.75H8.75Z"}),a.createElement("path",{fillRule:"evenodd",d:"M15 8A7 7 0 1 1 1 8a7 7 0 0 1 14 0ZM7.25 3.75a.75.75 0 0 1 1.5 0V4h2.5a.75.75 0 0 1 0 1.5h-2.5v1.75h.875a2.375 2.375 0 1 1 0 4.75H8.75v.25a.75.75 0 0 1-1.5 0V12h-2.5a.75.75 0 0 1 0-1.5h2.5V8.75h-.875a2.375 2.375 0 1 1 0-4.75h.875v-.25Z",clipRule:"evenodd"}))}const F=a.forwardRef(C),I=r=>[{title:"Información",href:`/material/${r}`,icon:e.jsx(M,{className:"w-4"})},{title:"Precios",href:`/material/${r}/prices`,icon:e.jsx(F,{className:"w-4"})}],P=u(function(){const t=h(),{getMaterial:i,getMaterials:s,materials:o,selectedMaterial:n}=v(),{openModal:l}=j(),{id:m}=p(),d=I(Number(m));a.useEffect(()=>{o||s()},[]),a.useEffect(()=>{o&&i(Number(m),o)},[o]);const f=async()=>{l("CONFIRMATION",{title:"Confirmar eliminación",message:"¿Está seguro de eliminar este material?",onConfirm:async()=>{const{error:c}=await w.remove({id:Number(m)});if(c){l("ERROR",{message:c.message});return}l("SUCCESS",{message:"Material eliminado correctamente"}),s(),t("materials")}})};return e.jsxs(e.Fragment,{children:[n&&e.jsx(E,{iconTitle:e.jsx(b,{className:"w-5 text-white dark:text-zinc-900"}),color:"bg-green-500",title:n==null?void 0:n.description,menu:d,rightSection:e.jsx("div",{className:"w-42",children:e.jsx(g,{title:"Eliminar material",variant:"danger",onClick:f,children:e.jsxs("div",{className:"flex gap-1",children:[e.jsx(R,{className:"size-4"}),e.jsx("span",{children:"Eliminar Material"})]})})})}),n?e.jsx(x,{}):e.jsx("p",{className:"text-center mt-10",children:"Cargando Material..."})]})});export{P as default};
