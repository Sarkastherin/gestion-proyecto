import{w as x,b as h,u as v,r as j,j as t,O as y}from"./chunk-PVWAREVJ-xN2wnjH-.js";import{S as b}from"./Inputs-nFJy7MmX.js";import{u as N}from"./UIContext-DAvkThde.js";import{B as P}from"./Buttons-BBIplumE.js";import{u as w}from"./DataContext-BsNWaLsj.js";import"./ModalsContext-CDMOE33t.js";import{t as k}from"./quotes-Cb4tk7Iq.js";import"./functions-DVvIYcXa.js";import"./SectionCreateQuote-DpyYwo5D.js";import"./cruds-CKZRngPt.js";import"./Cards-BrE1Rw6C.js";import"./Link-DPrQ_H2S.js";import"./realTime-CTR1wkWo.js";import"./ModalBase-Cfo712yZ.js";import"./EntityTable-BR0JMe50.js";import"./Badge-CULYdmWM.js";import"./useModalState-DqEB_XcK.js";function M({}){return[{title:"Presupuesto"},{name:"description",content:"Presupuesto del proyecto"}]}const V=x(function(){const{selectedProject:i}=w(),{id:l}=h(),r=v(),[m,o]=j.useState("materiales"),{selectedPhase:c,setSelectedPhase:d,isFieldsChanged:n,setIsFieldsChanged:u}=N();if(!i)return null;const{phases_project:s,budget_items:S,budget_materials:$,client:B,...T}=i,p=e=>{const g=e.target.value;d(Number(g))},f=e=>{const a=`project/${l}/budget/${e.key==="materiales"?"materials":"items"}`;n?confirm("Tienes cambios sin guardar, Â¿deseas continuar?")&&(u(!1),r(a),o(e.key)):(r(a),o(e.key))};return t.jsxs("div",{className:"w-full px-8 mt-8 mx-auto pb-18",children:[t.jsxs("section",{className:"flex gap-4",children:[t.jsx("div",{className:"w-2/3",children:t.jsx(b,{value:String(c),id:"id_phase",onChange:e=>p(e),disabled:n,children:s==null?void 0:s.map(e=>t.jsx("option",{value:e.id,children:`[${e.id}] ${e.name}`},e.id))})}),t.jsx("div",{className:"w-full flex gap-2",children:k.map(e=>t.jsx("div",{className:"w-1/4",children:t.jsx(P,{type:"button",onClick:()=>f(e),variant:m===e.key?"primary":"secondary",className:"w-full",children:e.label})},e.key))})]}),t.jsx(y,{})]})});export{V as default,M as meta};
