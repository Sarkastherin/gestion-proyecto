import{w as n,u as p,r as m,j as o}from"./chunk-PVWAREVJ-Cl_c9Jt0.js";import{a as u}from"./Badge-BNjmnaCE.js";import{S as l}from"./StatusOptions-C3TsQ3Nf.js";import{u as c}from"./DataContext-BHROWMOn.js";import{E as d}from"./EntityTable-DKwDIY9O.js";import{F as f}from"./FooterUITable-C66h8R_K.js";import{C as x}from"./Containers-ZXGJ7diH.js";import{P as b}from"./ProtectedRoute-DTKDj7Jz.js";import{a as h}from"./allowedRoles-wIcqt93s.js";import{L as w}from"./LoaderComponent-DzoOhiNN.js";import{B as O}from"./briefcase-business-C6ySRwuO.js";import"./supabaseClient-O5NoNd5h.js";import"./ContactsContext-BtjVusI7.js";import"./functions-CIXTKjf3.js";import"./Inputs-cvlDeTHR.js";import"./Buttons-DjYWmDVV.js";import"./IconComponent-CkWBZZXK.js";import"./UIContext-9PjeG9pu.js";import"./Buttons-ByA9cNaT.js";import"./Link-DZjWQWvu.js";import"./TrashIcon-CpHN25SK.js";import"./arrow-left-3CO6tBoR.js";import"./AuthContext-DiXfFtBN.js";function G({}){return[{title:"Oportunidades"},{name:"description",content:"Oportunidades"}]}const g=[{name:"Id",selector:t=>t.id,width:"80px",sortable:!0},{name:"Fecha",selector:t=>new Date(t.created_at).toLocaleDateString("es-AR",{year:"numeric",month:"2-digit",day:"2-digit"}),width:"170px",sortable:!0},{name:"Nombre de la Oportunidad",selector:t=>t.name,sortable:!0},{name:"Cliente",selector:t=>{var e;return((e=t.client)==null?void 0:e.nombre)||""},width:"270px",sortable:!0},{name:"Status",cell:t=>o.jsx(u,{status:t.status,children:t.status}),width:"130px"},{name:"Creado por",selector:t=>{var e;return((e=t.users)==null?void 0:e.user_name)||""},width:"120px",sortable:!0}],H=n(function(){const{getOpportunities:e,opportunities:r,setSelectedOpportunity:i}=c(),a=p();return m.useEffect(()=>{r||e()},[]),r?o.jsxs(b,{allowed:h,children:[o.jsx(x,{title:"Oportunidades",width:"w-full",IconComponent:{component:O,color:"text-green-600 dark:text-green-400"},back_path:"/",children:o.jsx(d,{data:r,columns:g,onRowClick:s=>{i(null),a(`/opportunities/${s.id}/resumen`)},filterFields:[{key:"name",label:"Buscar por descripci√≥n",autoFilter:!0},{key:"client.nombre",label:"Buscar por cliente",autoFilter:!0},{key:"status",label:"Estado",type:"select",options:o.jsx(l,{}),autoFilter:!0}]})}),o.jsx(f,{justify:"justify-end",buttonNavigate:{title:"+ Oportunidad",route:"/opportunities/new-opportunity",color:"green"}})]}):o.jsx(w,{})});export{H as default,G as meta};
