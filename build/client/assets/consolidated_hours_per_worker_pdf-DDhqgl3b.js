import{j as e,w as c,d as f}from"./chunk-PVWAREVJ-Cl_c9Jt0.js";import{V as i,T as a}from"./logo_imindustrial-1ZDqzhFi.js";import{f as j}from"./functions-llu_GUtd.js";import{P as h,s as l,C as t}from"./PDFComponentsReports-CgfwidJg.js";import{C as m}from"./Containers-ZXGJ7diH.js";import"./index-DRz5BQNA.js";import"./IconComponent-CkWBZZXK.js";import"./arrow-left-3CO6tBoR.js";const p=({periodo:s,globalBalance:o})=>e.jsxs(i,{style:{display:"flex",flexDirection:"row",alignItems:"flex-start",justifyContent:"space-between",gap:4,fontSize:10,borderBottom:"1px solid #9ca3af",paddingBottom:10},children:[e.jsxs(i,{children:[e.jsx(a,{children:"Balance Global"}),e.jsxs(i,{children:[e.jsx(a,{style:l.codeText,children:`Total horas equivalentes: ${o.total_equivalent_hours.toFixed(2)}`}),e.jsx(a,{style:l.codeText,children:`Total días equivalentes: ${o.total_equivalent_days.toFixed(2)}`}),e.jsx(a,{style:l.codeText,children:`Total viáticos: ${o.total_viaticum}`}),e.jsx(a,{style:l.codeText,children:`Total comidas: ${o.alimentation}`})]})]}),e.jsxs(i,{style:{display:"flex",gap:"4"},children:[e.jsxs(i,{children:[e.jsx(a,{children:"Periodo"}),e.jsx(a,{style:l.codeText,children:`Desde ${s.from}`}),e.jsx(a,{style:l.codeText,children:`Hasta ${s.to}`})]}),e.jsxs(i,{children:[e.jsx(a,{children:"Fecha de generación"}),e.jsx(a,{style:l.codeText,children:new Date().toLocaleDateString()})]})]})]}),u=()=>e.jsxs(i,{fixed:!0,style:{display:"flex",flexDirection:"row",border:"1px solid #9ca3af",fontSize:10,fontWeight:"bold",backgroundColor:"#f3f4f6"},children:[e.jsx(t,{content:"Empleado",flex:2,isFirst:!0}),e.jsx(t,{content:"HS-EQ",flex:.5}),e.jsx(t,{content:"Días EQ",flex:.5}),e.jsx(t,{content:"Viático",flex:.5}),e.jsx(t,{content:"Comidas",flex:.5})]}),y=({worker:s})=>e.jsxs(i,{style:{display:"flex",flexDirection:"row",borderLeft:"1px solid #9ca3af",borderRight:"1px solid #9ca3af",borderBottom:"1px solid #9ca3af",fontSize:10,fontWeight:"semibold"},children:[e.jsx(t,{content:s.employee_name,flex:2,isFirst:!0}),e.jsx(t,{content:s.total_equivalent_hours.toFixed(2),flex:.5}),e.jsx(t,{content:s.total_equivalent_days.toFixed(2),flex:.5}),e.jsx(t,{content:s.total_viaticum.toString(),flex:.5}),e.jsx(t,{content:s.alimentation.toString(),flex:.5})]}),_=({worker:s})=>e.jsx(i,{style:{display:"flex"},children:s.projects.map((o,r)=>e.jsxs(i,{style:{display:"flex",flexDirection:"row",borderLeft:"1px solid #9ca3af",borderRight:"1px solid #9ca3af",borderBottom:"1px solid #9ca3af",fontSize:9},children:[e.jsx(t,{content:o.project_name,flex:2,isFirst:!0}),e.jsx(t,{content:o.equivalent_hours.toFixed(2),flex:.5}),e.jsx(t,{content:o.equivalent_days.toFixed(2),flex:.5}),e.jsx(t,{content:o.viaticum.toString(),flex:.5}),e.jsx(t,{content:o.alimentation.toString(),flex:.5})]},r))}),b=({worker:s})=>e.jsx(i,{children:s.projects.map((o,r)=>o.dayReport.map((n,d)=>e.jsxs(i,{style:{display:"flex",flexDirection:"row",borderLeft:"1px solid #9ca3af",borderRight:"1px solid #9ca3af",borderBottom:d===o.dayReport.length-1?"1px solid #9ca3af":"1px dashed #9ca3af",...l.codeText},children:[e.jsx(t,{content:j(n.date_report),flex:2,alignment:"right",isFirst:!0}),e.jsx(t,{content:(n.equivalent_hours??0).toFixed(2),flex:.5}),e.jsx(t,{content:((n.equivalent_hours??0)/9).toFixed(2).toString(),flex:.5}),e.jsx(t,{content:n.viaticum?"Sí":"No",flex:.5}),e.jsx(t,{content:n.absent?"1":"0",flex:.5})]},`${r}-${n.id}`)))});function T({title:s,data:o,periodo:r,globalBalance:n}){return e.jsxs(h,{title:s,children:[e.jsx(p,{periodo:r,globalBalance:n}),e.jsxs(i,{style:{marginTop:25},children:[e.jsx(u,{}),e.jsx(i,{children:o.map((d,x)=>e.jsxs(i,{children:[e.jsx(y,{worker:d}),e.jsx(_,{worker:d}),e.jsx(b,{worker:d})]},x))})]})]})}function q({}){return[{title:"Consolidados por Trabajador"},{name:"description",content:"Consolidados por Trabajador [Informes]"}]}const $=c(function(){const o=f(),{data:r,periodo:n,globalBalance:d}=o.state;return e.jsx(m,{title:"Consolidado de horas por trabajadores",back_path:"/rrhh/consolidated_hours_per_worker",children:e.jsx("div",{className:"w-full mt-8 mx-auto flex gap-6 px-8",children:e.jsx("div",{className:"w-full",children:e.jsx(T,{title:"Consolidado de horas por trabajadores",data:r,periodo:n,globalBalance:d})})})})});export{$ as default,q as meta};
