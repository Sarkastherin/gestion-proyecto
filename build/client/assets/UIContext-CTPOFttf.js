import{r as s,j as Q}from"./chunk-PVWAREVJ-xN2wnjH-.js";import{s as T}from"./ContactsContext-CvsXE9G3.js";import{u as A}from"./ModalsContext-CDMOE33t.js";const l=s.createContext(void 0);function G({children:r}){const{openModal:u}=A(),p=window.matchMedia("(prefers-color-scheme: dark)").matches,[c,f]=s.useState(p?"dark":"light"),[m,d]=s.useState(null),[g,S]=s.useState(!1),[h,y]=s.useState(null),[M,_]=s.useState(null),[w,C]=s.useState(null),[x,o]=s.useState(!1),[v,b]=s.useState(!1),[k,E]=s.useState(!1),[U,I]=s.useState(!1),P=()=>{f(t=>t==="dark"?"light":"dark"),document.documentElement.setAttribute("data-theme",c==="dark"?"light":"dark")},z=async()=>{try{const{data:t,error:a}=await T.from("view_categorizations").select("*");if(a)throw new Error(a.message);const R=t==null?void 0:t.map(e=>({id:e.id_subcategory,description:e.description_subcategory,id_category:e.id_category})),n=t==null?void 0:t.map(e=>({id:e.id_category,description:e.description_category,id_family:e.id_family})),j=Array.from(new Map(n==null?void 0:n.map(e=>[e.id,e])).values()),i=t==null?void 0:t.map(e=>({id:e.id_family,description:e.description_family})),B=Array.from(new Map(i==null?void 0:i.map(e=>[e.id,e])).values());d({families:B,categories:j,subcategories:R??null})}catch{u("ERROR")}},O=(t,a)=>{o==null||o(a),t&&o(!1)};return Q.jsx(l.Provider,{value:{toggleTheme:P,theme:c,openClientModal:v,setOpenClientModal:b,selectedClient:h,setSelectedClient:y,isFieldsChanged:x,setIsFieldsChanged:o,handleSetIsFieldsChanged:O,categorizations:m,setCategorizations:d,getCategorizations:z,openSupplierModal:U,setOpenSupplierModal:I,selectedSupplier:w,setSelectedSupplier:C,selectedPhase:M,setSelectedPhase:_,setEditByStatus:S,editByStatus:g,openQuotesModal:k,setOpenQuotesModal:E},children:r})}function H(){const r=s.useContext(l);if(!r)throw new Error("useUI debe usarse dentro de <UIProvider>");return r}export{G as U,H as u};
